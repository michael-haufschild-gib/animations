.pf-arcane-portal {
  --burst-bg: rgb(130 150 255 / 70%);
  --sparkle-bg: rgb(200 215 255);
  --sparkle-glow: rgb(110 150 255 / 60%);
  --text-shadow: rgb(0 0 0 / 50%);
  --text-shadow-strong: rgb(0 0 0 / 60%);
  --portal-glow-primary: rgb(110 140 255 / 60%);
  --portal-glow-secondary: rgb(170 110 255 / 50%);
  --rune-color: rgb(200 215 255 / 90%);
  --vortex-bg: rgb(90 70 200 / 75%);
  --shockwave-color: rgb(170 190 255 / 70%);
  --ambient-glow-inner: rgb(80 60 180 / 50%);
  --ambient-glow-mid: rgb(60 40 140 / 40%);
  --ambient-glow-outer: rgb(40 25 100 / 25%);
  --mote-color: rgb(200 215 255);
  --mote-glow: rgb(130 160 255 / 70%);
  --materialize-ring: rgb(170 190 255 / 60%);
  --ring-glow-deep: rgb(80 50 180 / 25%);
  --vortex-bg-outer: rgb(60 40 160 / 35%);
  --shockwave-inset: rgb(160 180 255 / 30%);
  --burst-bg-outer: rgb(100 120 255 / 30%);
  --materialize-inset: rgb(160 180 255 / 20%);
  --sigil-tint-default: rgb(120 140 255 / 20%);
  --icon-glow-default: rgb(120 140 255 / 30%);
  --aura-color-default: rgb(120 140 255 / 15%);
  --aura-glow-default: rgb(100 120 255 / 10%);
  --claim-btn-border: rgb(255 116 149);
  --claim-btn-bg-start: rgb(255 89 129);
  --claim-btn-bg-end: rgb(200 53 88);
  --claim-btn-text: rgb(255 255 255);
  --claim-btn-glow: rgb(255 89 129 / 25%);
  --claim-btn-hover-bg-start: rgb(255 107 143);
  --claim-btn-hover-bg-end: rgb(214 69 106);
  --claim-btn-hover-border: rgb(255 134 165);
  --claim-btn-hover-glow: rgb(255 89 129 / 35%);
  --claim-burst-inner: rgb(255 200 100 / 40%);
  --claim-burst-outer: rgb(255 150 80 / 20%);
  --claim-btn-text-shadow: rgb(0 0 0 / 50%);
  --claim-btn-shadow-dark: rgb(0 0 0 / 30%);
  --claim-btn-hover-shadow-dark: rgb(0 0 0 / 35%);
  position: relative;
  inline-size: 100%;
  block-size: 340px;
  overflow: hidden;
}

.pf-arcane-portal__stage {
  position: relative;
  inline-size: 100%;
  block-size: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

/* ─── Background ambient glow ─── */

.pf-arcane-portal__ambient {
  position: absolute;
  z-index: 0;
  inset-inline-start: 50%;
  inset-block-start: 50%;
  translate: -50% -50%;
  inline-size: 1px;
  block-size: 1px;
  border-radius: 50%;
  background: transparent;
  box-shadow:
    0 0 80px 60px var(--ambient-glow-inner),
    0 0 160px 120px var(--ambient-glow-mid),
    0 0 240px 180px var(--ambient-glow-outer);
  pointer-events: none;
}

/* ─── Portal ring ─── */

.pf-arcane-portal__ring-wrap {
  position: relative;
  z-index: 3;
  inline-size: 190px;
  block-size: 190px;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
}

.pf-arcane-portal__ring-image {
  position: relative;
  z-index: 2;
  inline-size: 100%;
  block-size: 100%;
  object-fit: contain;
  filter:
    drop-shadow(0 0 12px var(--portal-glow-primary))
    drop-shadow(0 0 28px var(--portal-glow-secondary))
    drop-shadow(0 0 50px var(--portal-glow-primary));
}

.pf-arcane-portal__ring-glow {
  position: absolute;
  z-index: 1;
  inset-inline-start: 50%;
  inset-block-start: 50%;
  inline-size: 1px;
  block-size: 1px;
  translate: -50% -50%;
  border-radius: 50%;
  background: transparent;
  box-shadow:
    0 0 40px 30px var(--portal-glow-primary),
    0 0 70px 55px var(--portal-glow-secondary),
    0 0 100px 80px var(--ring-glow-deep);
  pointer-events: none;
}

/* ─── Inner vortex ─── */

.pf-arcane-portal__vortex {
  position: absolute;
  z-index: 1;
  inset-inline-start: 50%;
  inset-block-start: 50%;
  inline-size: 1px;
  block-size: 1px;
  translate: -50% -50%;
  border-radius: 50%;
  background: transparent;
  box-shadow:
    0 0 45px 35px var(--vortex-bg),
    0 0 80px 60px var(--vortex-bg-outer);
  pointer-events: none;
}

/* ─── Converging particles ─── */

.pf-arcane-portal__particles {
  position: absolute;
  z-index: 2;
  inset-inline-start: 50%;
  inset-block-start: 50%;
  pointer-events: none;
}

.pf-arcane-portal__particle {
  position: absolute;
  inline-size: var(--size, 3px);
  block-size: var(--size, 3px);
  border-radius: 50%;
  background: var(--sparkle-bg);
  box-shadow: 0 0 8px 3px var(--sparkle-glow);
  pointer-events: none;
}

/* ─── Orbiting runes ─── */

.pf-arcane-portal__runes {
  position: absolute;
  z-index: 4;
  inset-inline-start: 50%;
  inset-block-start: 50%;
  inline-size: 0;
  block-size: 0;
  pointer-events: none;
}

.pf-arcane-portal__rune {
  position: absolute;
  font-size: 15px;
  color: var(--rune-color);
  text-shadow:
    0 0 10px var(--sparkle-glow),
    0 0 20px var(--portal-glow-primary);
  line-height: 1;
  pointer-events: none;
  translate: -50% -50%;
}

/* ─── Shockwave ─── */

.pf-arcane-portal__shockwave {
  position: absolute;
  z-index: 5;
  inset-inline-start: 50%;
  inset-block-start: 50%;
  translate: -50% -50%;
  inline-size: 60px;
  block-size: 60px;
  border-radius: 50%;
  border: 2.5px solid var(--shockwave-color);
  box-shadow:
    0 0 20px 8px var(--shockwave-color),
    inset 0 0 15px 5px var(--shockwave-inset);
  pointer-events: none;
}

/* ─── Burst flash ─── */

.pf-arcane-portal__burst {
  position: absolute;
  z-index: 6;
  inset-inline-start: 50%;
  inset-block-start: 50%;
  translate: -50% -50%;
  inline-size: 1px;
  block-size: 1px;
  border-radius: 50%;
  background: transparent;
  box-shadow:
    0 0 80px 60px var(--burst-bg),
    0 0 140px 110px var(--burst-bg-outer);
  pointer-events: none;
}

/* ═══════════════════════════════════════════════════
   PRIZES
   ═══════════════════════════════════════════════════ */

.pf-arcane-portal__prizes {
  position: absolute;
  z-index: 7;
  inset-inline-start: 50%;
  inset-block-start: 50%;
  inline-size: 0;
  block-size: 0;
  pointer-events: none;
}

.pf-arcane-portal__prize {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  translate: -50% -50%;
}

/* Prize type colors */

.pf-arcane-portal__prize--gc {
  --sigil-tint: rgb(255 200 50 / 30%);
  --glow-color: rgb(255 190 50 / 60%);
  --aura-color: rgb(255 190 50 / 20%);
  --aura-glow: rgb(255 180 40 / 35%);
  --label-color: rgb(255 225 110);
  --amount-color: rgb(255 220 80);
  --amount-glow: rgb(255 200 50 / 55%);
  --mote-prize-color: rgb(255 215 90);
  --mote-prize-glow: rgb(255 190 50 / 70%);
}

.pf-arcane-portal__prize--sc {
  --sigil-tint: rgb(50 220 130 / 30%);
  --glow-color: rgb(50 210 130 / 60%);
  --aura-color: rgb(50 210 130 / 20%);
  --aura-glow: rgb(40 200 120 / 35%);
  --label-color: rgb(110 235 155);
  --amount-color: rgb(90 240 140);
  --amount-glow: rgb(50 210 130 / 55%);
  --mote-prize-color: rgb(90 230 140);
  --mote-prize-glow: rgb(50 210 130 / 70%);
}

.pf-arcane-portal__prize--fs {
  --sigil-tint: rgb(130 210 255 / 30%);
  --glow-color: rgb(110 200 255 / 60%);
  --aura-color: rgb(110 200 255 / 20%);
  --aura-glow: rgb(100 190 255 / 35%);
  --label-color: rgb(150 225 255);
  --amount-color: rgb(140 220 255);
  --amount-glow: rgb(110 210 255 / 55%);
  --mote-prize-color: rgb(130 210 255);
  --mote-prize-glow: rgb(110 200 255 / 70%);
}

.pf-arcane-portal__prize--rr {
  --sigil-tint: rgb(190 120 255 / 30%);
  --glow-color: rgb(180 110 255 / 60%);
  --aura-color: rgb(180 110 255 / 20%);
  --aura-glow: rgb(170 100 255 / 35%);
  --mote-prize-color: rgb(180 140 255);
  --mote-prize-glow: rgb(170 110 255 / 70%);
}

/* ─── Prize aura — persistent colored glow behind each prize ─── */

.pf-arcane-portal__prize-aura {
  position: absolute;
  z-index: 0;
  inset-inline-start: 50%;
  inset-block-start: 40%;
  translate: -50% -50%;
  inline-size: 1px;
  block-size: 1px;
  border-radius: 50%;
  background: transparent;
  box-shadow:
    0 0 30px 22px var(--aura-color, var(--aura-color-default)),
    0 0 55px 40px var(--aura-glow, var(--aura-glow-default));
  pointer-events: none;
}

/* ─── Materialization flash ring ─── */

.pf-arcane-portal__materialize-ring {
  position: absolute;
  z-index: 0;
  inset-inline-start: 50%;
  inset-block-start: 50%;
  translate: -50% -50%;
  inline-size: 56px;
  block-size: 56px;
  border-radius: 50%;
  border: 2px solid var(--materialize-ring);
  box-shadow:
    0 0 16px 5px var(--glow-color),
    inset 0 0 10px 3px var(--materialize-inset);
  pointer-events: none;
}

/* ─── Runic sigil ─── */

.pf-arcane-portal__sigil-wrap {
  position: absolute;
  z-index: 1;
  inset-inline-start: 50%;
  inset-block-start: 50%;
  translate: -50% -50%;
  inline-size: 76px;
  block-size: 76px;
  pointer-events: none;
}

.pf-arcane-portal__sigil-image {
  inline-size: 100%;
  block-size: 100%;
  object-fit: contain;
  filter:
    drop-shadow(0 0 8px var(--glow-color))
    drop-shadow(0 0 16px var(--sigil-tint, var(--sigil-tint-default)));
}

/* ─── Orbiting motes ─── */

.pf-arcane-portal__motes {
  position: absolute;
  z-index: 3;
  inset-inline-start: 50%;
  inset-block-start: 50%;
  inline-size: 0;
  block-size: 0;
  pointer-events: none;
}

.pf-arcane-portal__mote {
  position: absolute;
  inline-size: var(--mote-size, 3px);
  block-size: var(--mote-size, 3px);
  border-radius: 50%;
  background: var(--mote-prize-color, var(--mote-color));
  box-shadow: 0 0 8px 3px var(--mote-prize-glow, var(--mote-glow));
  pointer-events: none;
}

/* ─── Prize icon ─── */

.pf-arcane-portal__prize-icon-wrap {
  position: relative;
  inline-size: 68px;
  block-size: 56px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: visible;
}

.pf-arcane-portal__prize-icon {
  position: relative;
  z-index: 4;
  max-inline-size: 100%;
  max-block-size: 100%;
  object-fit: contain;
  filter:
    drop-shadow(0 2px 6px rgb(0 0 0 / 35%))
    drop-shadow(0 0 10px var(--glow-color, var(--icon-glow-default)));
}

/* Random reward icon is larger (no text below) */

.pf-arcane-portal__prize--rr .pf-arcane-portal__prize-icon-wrap {
  inline-size: 80px;
  block-size: 66px;
}

/* ─── Prize text ─── */

.pf-arcane-portal__prize-text {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  line-height: 1;
  white-space: nowrap;
}

.pf-arcane-portal__prize-label {
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--label-color);
  text-shadow:
    0 1px 4px var(--text-shadow),
    0 0 8px var(--amount-glow, var(--icon-glow-default));
}

.pf-arcane-portal__prize-amount {
  font-size: 19px;
  font-weight: 800;
  letter-spacing: 0.02em;
  font-variant-numeric: tabular-nums;
  color: var(--amount-color);
  text-shadow:
    0 0 12px var(--amount-glow),
    0 0 24px var(--amount-glow),
    0 1px 4px var(--text-shadow-strong);
}

/* ─── Claim button ─── */

.pf-arcane-portal__claim-btn {
  position: absolute;
  z-index: 10;
  inset-block-end: 16px;
  inset-inline-start: 50%;
  translate: -50% 0;
  padding: 8px 28px;
  border-radius: 50px;
  border: 2px solid var(--claim-btn-border);
  background: linear-gradient(180deg, var(--claim-btn-bg-start), var(--claim-btn-bg-end));
  color: var(--claim-btn-text);
  font-size: 14px;
  font-weight: 700;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  text-shadow: 0 1px 1px var(--claim-btn-text-shadow);
  cursor: pointer;
  pointer-events: auto;
  box-shadow:
    0 0 20px 6px var(--claim-btn-glow),
    0 4px 12px var(--claim-btn-shadow-dark);
  transition: box-shadow 160ms ease;
}

.pf-arcane-portal__claim-btn:hover {
  background: linear-gradient(180deg, var(--claim-btn-hover-bg-start), var(--claim-btn-hover-bg-end));
  border-color: var(--claim-btn-hover-border);
  box-shadow:
    0 0 24px 8px var(--claim-btn-hover-glow),
    0 4px 14px var(--claim-btn-hover-shadow-dark);
}

/* ─── Claim burst flash ─── */

.pf-arcane-portal__claim-burst {
  position: absolute;
  z-index: 8;
  inset-inline-start: 50%;
  inset-block-start: 50%;
  translate: -50% -50%;
  inline-size: 1px;
  block-size: 1px;
  border-radius: 50%;
  background: transparent;
  box-shadow:
    0 0 60px 40px var(--claim-burst-inner),
    0 0 120px 80px var(--claim-burst-outer);
  pointer-events: none;
}

/* ─── Responsive sizing by prize count ─── */

.pf-arcane-portal[data-prize-count='3'] .pf-arcane-portal__prize-icon-wrap {
  inline-size: 62px;
  block-size: 52px;
}

.pf-arcane-portal[data-prize-count='3'] .pf-arcane-portal__prize--rr .pf-arcane-portal__prize-icon-wrap {
  inline-size: 74px;
  block-size: 62px;
}

.pf-arcane-portal[data-prize-count='3'] .pf-arcane-portal__sigil-wrap {
  inline-size: 70px;
  block-size: 70px;
}

.pf-arcane-portal[data-prize-count='4'] .pf-arcane-portal__prize-icon-wrap {
  inline-size: 52px;
  block-size: 44px;
}

.pf-arcane-portal[data-prize-count='4'] .pf-arcane-portal__prize--rr .pf-arcane-portal__prize-icon-wrap {
  inline-size: 62px;
  block-size: 52px;
}

.pf-arcane-portal[data-prize-count='4'] .pf-arcane-portal__sigil-wrap {
  inline-size: 60px;
  block-size: 60px;
}

.pf-arcane-portal[data-prize-count='4'] .pf-arcane-portal__prize-amount {
  font-size: 16px;
}

.pf-arcane-portal[data-prize-count='4'] .pf-arcane-portal__materialize-ring {
  inline-size: 44px;
  block-size: 44px;
}
